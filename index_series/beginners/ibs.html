<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fuzion: Indentation-Based Syntax - Deep Dive</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #667eea;
            --primary-dark: #5568d3;
            --secondary: #764ba2;
            --success: #10b981;
            --error: #ef4444;
            --warning: #f59e0b;
            --bg-light: #f8f9fa;
            --text-dark: #2c3e50;
            --text-light: #6c757d;
            --border: #e9ecef;
            --shadow: rgba(0,0,0,0.1);
            --code-bg: #2d2d2d;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--bg-light);
        }

        header {
            background: white;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px var(--shadow);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
        }

        .hero {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .hero p {
            font-size: 1.2rem;
            opacity: 0.95;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .section {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px var(--shadow);
        }

        h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        h3 {
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
            color: var(--primary);
        }

        h4 {
            font-size: 1.2rem;
            margin: 1.5rem 0 0.75rem;
            color: var(--text-dark);
        }

        p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left: 4px solid var(--primary);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .highlight-box strong {
            color: var(--primary);
            font-size: 1.1rem;
        }

        .rule-list {
            list-style: none;
            margin: 1rem 0;
        }

        .rule-list li {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: var(--bg-light);
            border-radius: 6px;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .rule-list li::before {
            content: "âœ“";
            color: var(--success);
            font-weight: bold;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .code-block {
            background: var(--code-bg);
            color: #d4d4d4;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            overflow-x: auto;
            position: relative;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .code-header {
            background: #252525;
            color: #888;
            padding: 0.5rem 1rem;
            border-radius: 6px 6px 0 0;
            margin: -1.5rem -1.5rem 1rem -1.5rem;
            font-size: 0.85rem;
        }

        .keyword { color: #c586c0; }
        .comment { color: #6a9955; }
        .string { color: #ce9178; }
        .function { color: #dcdcaa; }
        .number { color: #b5cea8; }
        .indent-mark { color: #555; }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .comparison-box {
            padding: 1.5rem;
            border-radius: 8px;
            border: 2px solid;
        }

        .wrong {
            background: #fef2f2;
            border-color: var(--error);
        }

        .wrong h4 {
            color: var(--error);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .correct {
            background: #f0fdf4;
            border-color: var(--success);
        }

        .correct h4 {
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-light);
            font-weight: 600;
            color: var(--text-dark);
        }

        tr:hover {
            background: var(--bg-light);
        }

        .callout {
            background: #fffbeb;
            border-left: 4px solid #f59e0b;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .callout-title {
            font-weight: 600;
            color: #f59e0b;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .error-box {
            background: #fef2f2;
            border-left: 4px solid var(--error);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .error-title {
            font-weight: 600;
            color: var(--error);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .key-takeaways {
            background: linear-gradient(135deg, #10b98115 0%, #059c6915 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .key-takeaways h3 {
            color: var(--success);
            margin-top: 0;
        }

        .key-takeaways ul {
            list-style: none;
            margin: 1rem 0;
        }

        .key-takeaways li {
            padding: 0.75rem;
            margin: 0.5rem 0;
            background: white;
            border-radius: 6px;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .key-takeaways li::before {
            content: "ğŸ¯";
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .toc {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .toc h3 {
            margin-top: 0;
        }

        .toc ul {
            list-style: none;
        }

        .toc li {
            padding: 0.5rem 0;
        }

        .toc a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .toc a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        .staircase {
            background: var(--bg-light);
            border-radius: 8px;
            padding: 2rem;
            margin: 1.5rem 0;
            font-family: 'Courier New', monospace;
        }

        .staircase-line {
            margin: 0.25rem 0;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background 0.3s;
        }

        .staircase-line:hover {
            background: white;
        }

        .level-0 { padding-left: 0; color: #c586c0; }
        .level-1 { padding-left: 2rem; color: #4ec9b0; }
        .level-2 { padding-left: 4rem; color: #dcdcaa; }
        .level-3 { padding-left: 6rem; color: #ce9178; }

        .visual-structure {
            background: var(--code-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .visual-structure div {
            margin: 0.25rem 0;
        }

        .exercise {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .exercise-title {
            font-weight: 600;
            color: #3b82f6;
            margin-bottom: 1rem;
        }

        details {
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 6px;
        }

        summary {
            cursor: pointer;
            font-weight: 600;
            color: var(--primary);
            padding: 0.5rem;
        }

        summary:hover {
            color: var(--primary-dark);
        }

        .checklist {
            list-style: none;
            margin: 1rem 0;
        }

        .checklist li {
            padding: 0.5rem;
            margin: 0.25rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .checklist li::before {
            content: "â˜";
            font-size: 1.2rem;
            color: var(--text-light);
        }

        .config-box {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .comparison {
                grid-template-columns: 1fr;
            }

            .container {
                padding: 1.5rem 1rem;
            }

            .section {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <a href="/" class="logo">
                <span>âš¡</span>
                <span>Fuzion Docs</span>
            </a>
        </nav>
    </header>

    <div class="hero">
        <h1>ğŸ“ Indentation-Based Syntax</h1>
        <p>Deep Dive #2: How whitespace defines code structure in Fuzion</p>
    </div>

    <div class="container">
        <div class="toc">
            <h3>ğŸ“‘ Quick Navigation</h3>
            <ul>
                <li><a href="#what-is">What is Indentation-Based Syntax?</a></li>
                <li><a href="#core-concept">The Core Concept</a></li>
                <li><a href="#scope">How Indentation Defines Scope</a></li>
                <li><a href="#four-space">The 4-Space Rule</a></li>
                <li><a href="#examples">Complete Examples</a></li>
                <li><a href="#mistakes">Common Mistakes</a></li>
                <li><a href="#parser">How the Parser Works</a></li>
                <li><a href="#mental-model">Mental Model: The Staircase</a></li>
                <li><a href="#best-practices">Best Practices</a></li>
                <li><a href="#ide-config">IDE Configuration</a></li>
            </ul>
        </div>

        <div class="section" id="what-is">
            <h2>ğŸ¯ What is Indentation-Based Syntax?</h2>
            <div class="highlight-box">
                <p><strong>Indentation-based syntax</strong> means that the <strong>amount of whitespace</strong> (spaces) at the beginning of each line determines which block of code it belongs to.</p>
                <p style="margin-bottom: 0;">In FUZION, there are <strong>no braces {} or end keywords</strong> - just indentation.</p>
            </div>
        </div>

        <div class="section" id="core-concept">
            <h2>ğŸ“˜ The Core Concept</h2>

            <h3>Traditional Languages (with braces):</h3>
            <div class="code-block">
                <div class="code-header">JavaScript</div>
                <pre><code><span class="comment">// JavaScript</span>
<span class="keyword">function</span> <span class="function">greet</span>(name) {
    <span class="keyword">if</span> (name) {
        console.<span class="function">log</span>(<span class="string">"Hello "</span> + name);
    } <span class="keyword">else</span> {
        console.<span class="function">log</span>(<span class="string">"Hello stranger"</span>);
    }
}</code></pre>
            </div>

            <h3>FUZION (indentation-based):</h3>
            <div class="code-block">
                <div class="code-header">fuzion</div>
                <pre><code><span class="function">greet</span> name:
    <span class="keyword">if</span> name:
        <span class="keyword">print</span> <span class="string">"Hello {name}"</span>
    <span class="keyword">else</span>:
        <span class="keyword">print</span> <span class="string">"Hello stranger"</span></code></pre>
            </div>

            <div class="callout">
                <div class="callout-title">ğŸ’¡ Key Difference</div>
                <p style="margin-bottom: 0;">The indentation <strong>is</strong> the structure. It's not just for humans - it's how FUZION understands your code.</p>
            </div>
        </div>

        <div class="section" id="scope">
            <h2>ğŸ” How Indentation Defines Scope</h2>

            <h3>Rule 1: Same Indentation = Same Block</h3>
            <div class="code-block">
                <pre><code><span class="keyword">if</span> condition:
    statement1     <span class="comment"># These three lines</span>
    statement2     <span class="comment"># have the same indentation</span>
    statement3     <span class="comment"># so they're in the same block</span></code></pre>
            </div>

            <h3>Rule 2: More Indentation = Nested Block</h3>
            <div class="code-block">
                <pre><code><span class="keyword">if</span> outer_condition:
    statement1           <span class="comment"># Outer block</span>
    <span class="keyword">if</span> inner_condition:  <span class="comment"># Still outer block</span>
        statement2       <span class="comment"># Inner block (nested)</span>
        statement3       <span class="comment"># Inner block (nested)</span>
    statement4           <span class="comment"># Back to outer block</span></code></pre>
            </div>

            <h3>Rule 3: Less Indentation = Exit Block</h3>
            <div class="code-block">
                <pre><code><span class="keyword">if</span> condition:
    inside_block      <span class="comment"># Inside the if</span>
outside_block         <span class="comment"># Outside the if (dedented)</span></code></pre>
            </div>
        </div>

        <div class="section" id="four-space">
            <h2>ğŸ“ The 4-Space Rule</h2>
            <div class="highlight-box">
                <strong>FUZION uses 4 spaces per indentation level.</strong>
            </div>

            <h3>Why 4 Spaces?</h3>
            <ul class="rule-list">
                <li><strong>Visible but not wasteful</strong> - Easy to see, doesn't use too much horizontal space</li>
                <li><strong>Industry standard</strong> - Matches Python, many style guides</li>
                <li><strong>Prevents accidents</strong> - Large enough to avoid confusion</li>
            </ul>

            <h3>Visual Example:</h3>
            <div class="code-block">
                <pre><code><span class="keyword">if</span> a:        <span class="comment"># Start IF block (indent level 0)</span>
    do_a()   <span class="comment"># Inside IF (level 1) - entered block</span>
    <span class="keyword">if</span> b:    <span class="comment"># Start nested IF (level 1) - still in outer</span>
        do_b()  <span class="comment"># Inside nested IF (level 2) - entered nested</span>
    do_a2()  <span class="comment"># Back to outer IF (level 1) - exited nested</span>
do_end()     <span class="comment"># Outside all (level 0) - exited IF</span></code></pre>
            </div>

            <div class="visual-structure">
                <strong>Parser's view:</strong>
                <div>Line 1: indent=0, token=if â†’ START_BLOCK(IF)</div>
                <div>Line 2: indent=4, token=do_a â†’ INSIDE_BLOCK (level 1)</div>
                <div>Line 3: indent=4, token=if â†’ INSIDE_BLOCK, START_BLOCK(nested IF)</div>
                <div>Line 4: indent=8, token=do_b â†’ INSIDE_BLOCK (level 2)</div>
                <div>Line 5: indent=4, token=do_a2 â†’ EXIT_BLOCK (to level 1)</div>
                <div>Line 6: indent=0, token=do_end â†’ EXIT_BLOCK (to level 0)</div>
            </div>
        </div>

        <div class="section" id="mental-model">
            <h2>ğŸ§  Mental Model: "The Staircase"</h2>
            <p>Think of indentation like a staircase:</p>

            <div class="staircase">
                <div class="staircase-line level-0">Level 0 (ground)</div>
                <div class="staircase-line level-1">Level 1 (first step up)</div>
                <div class="staircase-line level-2">Level 2 (second step up)</div>
                <div class="staircase-line level-3">Level 3 (third step up)</div>
                <div class="staircase-line level-2">Level 2 (back down one step)</div>
                <div class="staircase-line level-1">Level 1 (back down to first step)</div>
                <div class="staircase-line level-0">Level 0 (back to ground)</div>
            </div>

            <h3>In FUZION:</h3>
            <div class="code-block">
                <pre><code><span class="function">ground_level</span>:                 <span class="comment"># Ground floor</span>
    first_step:               <span class="comment"># Step up</span>
        second_step:          <span class="comment"># Step up again</span>
            third_step:       <span class="comment"># Step up again</span>
                work_here     <span class="comment"># Do work</span>
            back_to_third     <span class="comment"># Still at third step</span>
        back_to_second        <span class="comment"># Step down to second</span>
    back_to_first             <span class="comment"># Step down to first</span>
back_to_ground                <span class="comment"># Back to ground</span></code></pre>
            </div>
        </div>

        <div class="section" id="best-practices">
            <h2>ğŸ’¡ Best Practices</h2>

            <h3>1. Use Exactly 4 Spaces</h3>
            <div class="comparison">
                <div class="comparison-box correct">
                    <h4>âœ… GOOD - Consistent 4 spaces</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">if</span> condition:
    statement1
    statement2</code></pre>
                    </div>
                </div>
                <div class="comparison-box wrong">
                    <h4>âŒ BAD - 2 spaces (harder to see)</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">if</span> condition:
  statement1
  statement2</code></pre>
                    </div>
                </div>
            </div>

            <h3>2. Use Blank Lines for Readability</h3>
            <div class="code-block">
                <div class="code-header">Good spacing example</div>
                <pre><code><span class="function">calculate_price</span> item:
    base_price = item.price

    <span class="keyword">if</span> item.on_sale:
        discount = base_price * <span class="number">0.2</span>
        final_price = base_price - discount
    <span class="keyword">else</span>:
        final_price = base_price

    <span class="keyword">return</span> final_price</code></pre>
            </div>

            <h3>3. Don't Over-Nest</h3>
            <div class="comparison">
                <div class="comparison-box wrong">
                    <h4>âŒ BAD - Too deeply nested</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">if</span> a:
    <span class="keyword">if</span> b:
        <span class="keyword">if</span> c:
            <span class="keyword">if</span> d:
                <span class="keyword">if</span> e:
                    do_something()</code></pre>
                    </div>
                </div>
                <div class="comparison-box correct">
                    <h4>âœ… BETTER - Use guard clauses</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">unless</span> a:
    <span class="keyword">return</span>
<span class="keyword">unless</span> b:
    <span class="keyword">return</span>
<span class="keyword">unless</span> c:
    <span class="keyword">return</span>

do_something()</code></pre>
                    </div>
                </div>
            </div>

            <h3>4. Keep Lines Reasonable Length</h3>
            <div class="comparison-box wrong">
                <h4>âŒ BAD - Too long (scroll horizontally)</h4>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> user.is_authenticated <span class="keyword">and</span> user.has_permission(<span class="string">"admin"</span>) <span class="keyword">and</span> user.account.is_active <span class="keyword">and</span> <span class="keyword">not</span> user.account.is_suspended:
    grant_access()</code></pre>
                </div>
            </div>

            <div class="comparison-box correct">
                <h4>âœ… BEST - Extract to variable</h4>
                <div class="code-block">
                    <pre><code>has_access = user.is_authenticated <span class="keyword">and</span>
             user.has_permission(<span class="string">"admin"</span>) <span class="keyword">and</span>
             user.account.is_active <span class="keyword">and</span>
             <span class="keyword">not</span> user.account.is_suspended

<span class="keyword">if</span> has_access:
    grant_access()</code></pre>
                </div>
            </div>
        </div>

        <div class="section" id="ide-config">
            <h2>ğŸ”§ IDE Configuration</h2>

            <h3>VS Code (settings.json)</h3>
            <div class="config-box">
{
    "editor.tabSize": 4,
    "editor.insertSpaces": true,
    "editor.detectIndentation": false,
    "files.trimTrailingWhitespace": true
}
            </div>

            <h3>Sublime Text (Preferences.sublime-settings)</h3>
            <div class="config-box">
{
    "tab_size": 4,
    "translate_tabs_to_spaces": true,
    "detect_indentation": false,
    "trim_trailing_white_space_on_save": true
}
            </div>

            <h3>Vim (.vimrc)</h3>
            <div class="config-box">
set tabstop=4
set shiftwidth=4
set expandtab
set autoindent
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“Š Indentation Levels Chart</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Spaces</th>
                            <th>Use Case</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td>0</td>
                            <td>Top-level code</td>
                            <td>Function definitions, imports</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>4</td>
                            <td>Function body</td>
                            <td>Statements inside functions</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>8</td>
                            <td>Nested block</td>
                            <td>Inside if/loop</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>12</td>
                            <td>Double nested</td>
                            <td>Nested if inside if</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>16</td>
                            <td>Triple nested</td>
                            <td>(Consider refactoring!)</td>
                        </tr>
                        <tr style="background: #fef2f2;">
                            <td>5+</td>
                            <td>20+</td>
                            <td>Deep nesting</td>
                            <td>âš ï¸ Usually a code smell</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ Advanced: Multi-Line Statements</h2>

            <h3>Continuing Long Lines</h3>
            <div class="code-block">
                <pre><code><span class="comment"># Method 1: Natural continuation (after operators)</span>
total = price +
        tax +
        shipping

<span class="comment"># Method 2: Parentheses (explicit continuation)</span>
total = (price +
         tax +
         shipping)

<span class="comment"># Method 3: Collection literals (implicit continuation)</span>
items = [
    <span class="string">"apple"</span>,
    <span class="string">"banana"</span>,
    <span class="string">"orange"</span>
]

<span class="comment"># Method 4: Function arguments (implicit continuation)</span>
result = calculate_total(
    price: <span class="number">100</span>,
    tax: <span class="number">10</span>,
    shipping: <span class="number">5</span>
)</code></pre>
            </div>

            <div class="callout">
                <div class="callout-title">ğŸ“ Rules for Continuation</div>
                <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
                    <li>Extra indentation signals continuation</li>
                    <li>Return to original level ends continuation</li>
                    <li>Inside brackets/parens, indentation is flexible</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ§ª Practice Exercises</h2>

            <div class="exercise">
                <div class="exercise-title">Exercise 1: Fix the Indentation</div>
                <p>What's wrong here?</p>
                <div class="code-block">
                    <pre><code><span class="function">calculate</span> x:
  <span class="keyword">if</span> x > <span class="number">0</span>:
      <span class="keyword">return</span> x * <span class="number">2</span>
  <span class="keyword">else</span>:
    <span class="keyword">return</span> <span class="number">0</span></code></pre>
                </div>

                <details>
                    <summary>View Answer</summary>
                    <div class="code-block">
                        <pre><code><span class="comment"># Fixed - consistent 4-space indentation</span>
<span class="function">calculate</span> x:
    <span class="keyword">if</span> x > <span class="number">0</span>:
        <span class="keyword">return</span> x * <span class="number">2</span>
    <span class="keyword">else</span>:
        <span class="keyword">return</span> <span class="number">0</span></code></pre>
                    </div>
                    <p><strong>Issues:</strong></p>
                    <ul>
                        <li>Line 2: Only 2 spaces (should be 4)</li>
                        <li>Line 3: 6 spaces (should be 8)</li>
                        <li>Line 4: 2 spaces (should be 4)</li>
                        <li>Line 5: 4 spaces (should be 8)</li>
                    </ul>
                </details>
            </div>

            <div class="exercise">
                <div class="exercise-title">Exercise 2: Determine Block Structure</div>
                <p>What blocks exist here?</p>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> a:
    statement1
    <span class="keyword">if</span> b:
        statement2
    statement3
statement4</code></pre>
                </div>

                <details>
                    <summary>View Answer</summary>
                    <ul>
                        <li><strong>Outer if block:</strong> statement1, if b, statement3</li>
                        <li><strong>Inner if block:</strong> statement2</li>
                        <li><strong>Outside all blocks:</strong> statement4</li>
                    </ul>
                    <div class="visual-structure">
                        <div>if a: [BLOCK START]</div>
                        <div>    statement1        [in outer]</div>
                        <div>    if b: [BLOCK START]</div>
                        <div>        statement2    [in inner]</div>
                        <div>    [BLOCK END]</div>
                        <div>    statement3        [in outer]</div>
                        <div>[BLOCK END]</div>
                        <div>statement4            [outside all]</div>
                    </div>
                </details>
            </div>
        </div>

        <div class="key-takeaways">
            <h3>âœ… Key Takeaways</h3>
            <ul>
                <li><strong>Indentation IS syntax</strong> - Not just style, it defines structure</li>
                <li><strong>4 spaces per level</strong> - Universal rule, no exceptions</li>
                <li><strong>No tabs</strong> - Always spaces</li>
                <li><strong>Visual structure</strong> - What you see is what you get</li>
                <li><strong>Parser-driven</strong> - Computer reads indentation to understand code</li>
                <li><strong>Consistent = Valid</strong> - Keep levels aligned</li>
                <li><strong>After colon = indent</strong> - Every block header requires indentation</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ¯ Mental Checklist</h2>
            <p>Before running your code, check:</p>
            <ul class="checklist">
                <li>All indentation uses spaces (no tabs)</li>
                <li>Each level is exactly 4 spaces more than parent</li>
                <li>All lines in same block have same indentation</li>
                <li>Every line after <code>:</code> is indented</li>
                <li>No random extra indentation</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸš€ Next Steps</h2>
            <p>Now that you understand indentation, you're ready for:</p>
            <ul class="rule-list">
                <li><strong>#4 - Variables and mut</strong> (how scope works with indentation)</li>
                <li><strong>#7 - If/Else</strong> (practical use of nested indentation)</li>
                <li><strong>#11 - Functions</strong> (indentation in function bodies)</li>
            </ul>
        </div>

        <div class="highlight-box" style="text-align: center; margin-top: 2rem;">
            <p style="font-size: 1.2rem; font-weight: 600; margin-bottom: 0;">
                Remember: In FUZION, indentation isn't just pretty formatting - it's the language structure itself!
            </p>
        </div>
    </div>
</body>
</html>><span class="comment"># Level 0: No indentation (top level)</span>
<span class="function">calculate</span> x, y:
<span class="indent-mark">Â·Â·Â·Â·</span><span class="comment"># Level 1: 4 spaces</span>
<span class="indent-mark">Â·Â·Â·Â·</span><span class="keyword">if</span> x > <span class="number">0</span>:
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="comment"># Level 2: 8 spaces (4 + 4)</span>
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="keyword">if</span> y > <span class="number">0</span>:
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="comment"># Level 3: 12 spaces (4 + 4 + 4)</span>
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="keyword">return</span> x + y
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="keyword">else</span>:
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="comment"># Level 3: 12 spaces</span>
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="keyword">return</span> x - y
<span class="indent-mark">Â·Â·Â·Â·</span><span class="keyword">else</span>:
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="comment"># Level 2: 8 spaces</span>
<span class="indent-mark">Â·Â·Â·Â·Â·Â·Â·Â·</span><span class="keyword">return</span> <span class="number">0</span></code></pre>
            </div>
            <p style="font-size: 0.9rem; color: var(--text-light);">(Note: <code>Â·Â·Â·Â·</code> represents spaces for visibility)</p>
        </div>

        <div class="section" id="examples">
            <h2>ğŸ¨ Complete Indentation Examples</h2>

            <h3>Example 1: Simple Function</h3>
            <div class="code-block">
                <div class="code-header">simple_function.fz</div>
                <pre><code><span class="function">add</span> x, y:           <span class="comment"># Level 0 (function definition)</span>
    result = x + y  <span class="comment"># Level 1 (function body)</span>
    <span class="keyword">return</span> result   <span class="comment"># Level 1 (same block)</span>

<span class="keyword">print</span> add <span class="number">3</span>, <span class="number">4</span>      <span class="comment"># Level 0 (outside function)</span></code></pre>
            </div>

            <div class="visual-structure">
                <strong>Visual Structure:</strong>
                <div>Level 0: add x, y:</div>
                <div>Level 1:     result = x + y</div>
                <div>Level 1:     return result</div>
                <div>Level 0: print add 3, 4</div>
            </div>

            <h3>Example 2: Nested Control Flow</h3>
            <div class="code-block">
                <div class="code-header">nested_control.fz</div>
                <pre><code><span class="function">check_access</span> user, resource:                    <span class="comment"># Level 0</span>
    <span class="keyword">if</span> user.is_admin:                           <span class="comment"># Level 1</span>
        <span class="keyword">print</span> <span class="string">"Admin access granted"</span>            <span class="comment"># Level 2</span>
        <span class="keyword">return</span> <span class="keyword">true</span>                             <span class="comment"># Level 2</span>
    <span class="keyword">else</span>:                                       <span class="comment"># Level 1</span>
        <span class="keyword">if</span> user.has_permission resource:        <span class="comment"># Level 2</span>
            <span class="keyword">print</span> <span class="string">"User access granted"</span>         <span class="comment"># Level 3</span>
            <span class="keyword">return</span> <span class="keyword">true</span>                         <span class="comment"># Level 3</span>
        <span class="keyword">else</span>:                                   <span class="comment"># Level 2</span>
            <span class="keyword">print</span> <span class="string">"Access denied"</span>               <span class="comment"># Level 3</span>
            <span class="keyword">return</span> <span class="keyword">false</span>                        <span class="comment"># Level 3</span></code></pre>
            </div>

            <h3>Example 3: Type with Methods</h3>
            <div class="code-block">
                <div class="code-header">type_definition.fz</div>
                <pre><code><span class="keyword">Person</span>:                           <span class="comment"># Level 0 (type definition)</span>
    name: text                    <span class="comment"># Level 1 (field)</span>
    age: number                   <span class="comment"># Level 1 (field)</span>

    greet:                        <span class="comment"># Level 1 (method definition)</span>
        <span class="keyword">print</span> <span class="string">"Hi, I'm {this.name}"</span>  <span class="comment"># Level 2 (method body)</span>

    birthday:                     <span class="comment"># Level 1 (method definition)</span>
        this.age = this.age + <span class="number">1</span>   <span class="comment"># Level 2 (method body)</span>
        <span class="keyword">print</span> <span class="string">"Now {this.age}!"</span>   <span class="comment"># Level 2 (same method body)</span>

p = Person name: <span class="string">"Alex"</span>, age: <span class="number">25</span>  <span class="comment"># Level 0 (outside type)</span></code></pre>
            </div>
        </div>

        <div class="section" id="mistakes">
            <h2>âŒ Common Mistakes</h2>

            <h3>Mistake 1: Inconsistent Indentation</h3>
            <div class="comparison-box wrong">
                <h4>âŒ WRONG - Mixed indentation levels</h4>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> x > <span class="number">0</span>:
    <span class="keyword">print</span> <span class="string">"positive"</span>
      <span class="keyword">print</span> <span class="string">"still positive"</span>  <span class="comment"># Too much indent!</span></code></pre>
                </div>
            </div>

            <div class="error-box">
                <div class="error-title">âš ï¸ Error Message</div>
                <div class="code-block">
                    <pre><code>Error: Inconsistent indentation
Line 3: Expected 4 spaces, but found 6

    print "still positive"
    ^
Help: All lines in the same block must have the same indentation.</code></pre>
                </div>
            </div>

            <h3>Mistake 2: Forgetting to Indent</h3>
            <div class="comparison">
                <div class="comparison-box wrong">
                    <h4>âŒ WRONG - No indentation after colon</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">if</span> x > <span class="number">0</span>:
<span class="keyword">print</span> <span class="string">"positive"</span>  <span class="comment"># Should be indented!</span></code></pre>
                    </div>
                </div>
                <div class="comparison-box correct">
                    <h4>âœ… CORRECT</h4>
                    <div class="code-block">
                        <pre><code><span class="keyword">if</span> x > <span class="number">0</span>:
    <span class="keyword">print</span> <span class="string">"positive"</span></code></pre>
                    </div>
                </div>
            </div>

            <h3>Mistake 3: Too Much Indentation</h3>
            <div class="comparison-box wrong">
                <h4>âŒ WRONG - Indented more than necessary</h4>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> x > <span class="number">0</span>:
        <span class="keyword">print</span> <span class="string">"positive"</span>  <span class="comment"># 8 spaces instead of 4!</span></code></pre>
                </div>
            </div>

            <div class="error-box">
                <div class="error-title">âš ï¸ Error Message</div>
                <div class="code-block">
                    <pre><code>Error: Unexpected indentation
Line 2: Found 8 spaces, expected 4

        print "positive"
        ^
Help: Indent by 4 spaces for each nesting level.</code></pre>
                </div>
            </div>

            <h3>Mistake 4: Mixing Tabs and Spaces</h3>
            <div class="comparison-box wrong">
                <h4>âŒ WRONG - Mixed tabs and spaces (invisible!)</h4>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> x > <span class="number">0</span>:
â†’   <span class="keyword">print</span> <span class="string">"positive"</span>  <span class="comment"># Tab + spaces</span>
    <span class="keyword">print</span> <span class="string">"also positive"</span>  <span class="comment"># Just spaces</span></code></pre>
                </div>
            </div>

            <div class="error-box">
                <div class="error-title">âš ï¸ Error Message</div>
                <div class="code-block">
                    <pre><code>Error: Inconsistent indentation (tabs vs spaces)
Line 2: Contains tab characters

Help: FUZION requires spaces only, no tabs.
      Configure your editor to insert spaces when you press Tab.</code></pre>
                </div>
            </div>
        </div>

        <div class="section" id="parser">
            <h2>ğŸ¯ How the Parser Uses Indentation</h2>

            <h3>The Algorithm (Simplified)</h3>
            <ul class="rule-list">
                <li><strong>Tokenize whitespace</strong> - Count spaces at line start</li>
                <li><strong>Compare to previous line</strong> - More, same, or less?</li>
                <li><strong>Build block structure:</strong><br>
                    â€¢ More indent = enter new block<br>
                    â€¢ Same indent = stay in current block<br>
                    â€¢ Less indent = exit one or more blocks</li>
            </ul>

            <h3>Visual Example:</h3>
            <div class="code-block">
                <pre><code